<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Ignotum Per Ignotius">
<meta name="viewport" content="width=device-width">
<title>hardened ?log? (old posts, page 15) | hardened ?log?</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="canonical" href="http://blog.piesso.com/index-15.html">
<!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]-->
</head>
<body>
    <section class="social"><ul>
<li><a href="index.html" title="Home"><i class="icon-home"></i></a></li>
            <li><a href="archive.html" title="Archives"><i class="icon-folder-open-alt"></i></a></li>
            <li><a href="categories/index.html" title="Tags"><i class="icon-tags"></i></a></li>
            <li><a href="rss.xml" title="RSS"><i class="icon-rss"></i></a></li>
            <li><a href="stories/about-me.html" title="About me"><i class="icon-user"></i></a></li>
            <li><a href="https://github.com/mofm" title="My Github"><i class="icon-github"></i></a></li>

        </ul></section><section class="page-content"><div class="content" rel="main">
            
        <div class="post">
            <h1 class="title"><a href="posts/iptables-generator.html">iptables generator</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2011-01-10T03:39:28+02:00">2011-01-10 03:39</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/iptables-generator.html#disqus_thread" data-disqus-identifier="cache/posts/iptables-generator.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/genel.html" rel="tag">Genel</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<img class="alignright" title="iptables" src="http://i.zdnet.com/blogs/linux%20firewall.png" alt="" width="197" height="169">Linux'un vazgeçilemez NetFilter'i “<strong>iptables</strong>” a kural eklemeyi kolaylaştırmak ya da hemen bir <em>firewall </em>oluşturmak için online oluşturucular mevcut.Bazıları detaylı kurallar oluştururken,bazı oluşturucular sade ve basit bir firewall için gerekenleri üretiyor.Denemek isteyenler için bazıları :
<p>** <a href="http://easyfwgen.morizot.net/gen/" target="_blank">Easy Firewall Generator for iptables</a></p>
<p>** <a href="http://www.mista.nu/iptables/" target="_blank">Simple Firewall Generator for iptables </a></p>
<p>**<a href="http://www.docunext.com/iptables-rule-generator.html" target="_blank"> Iptables RULE Generator </a></p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/dns-sunucunuzda-recursive-query-leri-durdurun.html">DNS sunucunuzda 'recursive query'leri durdurun!</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2011-01-09T19:22:08+02:00">2011-01-09 19:22</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/dns-sunucunuzda-recursive-query-leri-durdurun.html#disqus_thread" data-disqus-identifier="cache/posts/dns-sunucunuzda-recursive-query-leri-durdurun.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/genel.html" rel="tag">Genel</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<img class="alignright" title="Bind Dns server" src="http://www.readynas.com/wp-content/uploads/2009/07/binddns-logo.jpg" alt="" width="110" height="110">DNS sunucunuz üzerinde "<strong>recursion</strong>"(<em>recursive query</em>) istekleri aktif ise dışardan sorgulamalara açık demektir.Bu da dns sunucunuzun dışarıdan boş yere meşgul olması demektir.DNS sunucunuzun bu istekleri açık olup olmadığını sorgulatın."<a href="http://intodns.com" target="_blank">intodns</a>" adlı site dns sunucunuz hakkında detaylı bir rapor veren güzel bir site.Bu siteye girip dns sunucunuzu sorgulatarak sağlığı hakkında bilgi alın.(Kısaca tarayıcınıza "http://intodns.com/domain-adiniz.com" şeklinde de sorgulatabilirsiniz.)
<p>Sorgu raporu içindeki "<strong>Recursive Query</strong>" sekmesinde hata alıyorsanız sunucunuz dışardan sorgulara açık demektir.BIND DNS serverda "recursion"u kapatmak için named.conf adlı ayar dosyamıza "recursion on" satırını ekleyelim:</p>
<p><code>#vi /var/named/chroot/etc/named.conf</code></p>
<p>"<strong>Options</strong>" bölümü içine "<em>recursion no;</em>" satırını ekleyin ve ya kendiniz dışında herkese kapatmak için ise " allow-recursion { 127.0.0.1 ; } ; " satırını ekleyebilirsiniz ve yeniden başlatın.</p>
<p><code># service named restart</code></p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/parola-korumali-grub.html">Parola korumalı GRUB</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2011-01-09T00:23:41+02:00">2011-01-09 00:23</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/parola-korumali-grub.html#disqus_thread" data-disqus-identifier="cache/posts/parola-korumali-grub.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/genel.html" rel="tag">Genel</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<strong><img class="alignright" title="GRUB" src="http://upload.wikimedia.org/wikipedia/commons/1/19/KeePass_icon.png" alt="" width="154" height="154">İpucu:</strong> Sisteminizin güvenliği açısından bilgisayarın açılışında “<strong><strong>GRUB</strong></strong>” a <strong>parola</strong> koyma ihtiyacı duyabilirsin.Eğer “<strong>GRUB</strong>” a <strong>parola</strong> koymak istiyorsanız:
<p>“<strong>/boot/<strong>grub</strong>/<strong>grub</strong>.conf”</strong> dosyasına ” <strong>password</strong> ” satırını ekleyelim.Ama password satırını eklemeden önce ekleyeceğimiz parolayı ‘md5′ kriptolayalım.</p>
<p><code># <strong>grub</strong></code></p>
<p>GNU <strong>GRUB</strong> version 0.97  (640K lower / 9216K upper memory)</p>
<p>[ Minimal BASH-like line editing is supported.  For the first word, TAB
lists possible command completions.  Anywhere else TAB lists the possible
completions of a device/filename. ]</p>
<p><strong>grub</strong>&gt; md5crypt</p>
<p>Password: <strong>*</strong>*
Encrypted: $1$M1Gou/$U4rKvFwErxqZkpt9MiHYm0</p>
<p><strong>grub</strong>&gt;</p>
<p>Yukarıda gördüğünüz gibi şifreleyeceğim parolayı yazıp ‘Encrypted’  halini aldım.Buradaki şifreli parolamı (  $1$M1Gou/$U4rKvFwErxqZkpt9MiHYm0 ) kopyalayıp “<strong>/boot/<strong>grub</strong>/<strong>grub</strong>.conf</strong>” dosyasındaki ‘<strong>password</strong>‘ satırına ekleyelim.</p>
<p><code>password --md5 $1$M1Gou/$U4rKvFwErxqZkpt9MiHYm0</code></p>
<p>Böylece artık “<strong>GRUB</strong>” ekranında belirlediğiniz <strong>parola</strong> ile giriş yapabileceksiniz.</p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/hatay-kirikhan-linux-egitimi.html">Hatay Kırıkhan Linux Eğitimi</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2011-01-09T00:11:49+02:00">2011-01-09 00:11</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/hatay-kirikhan-linux-egitimi.html#disqus_thread" data-disqus-identifier="cache/posts/hatay-kirikhan-linux-egitimi.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/genel.html" rel="tag">Genel</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<img class="alignright" title="MKU Kırıkhan MYO" src="http://kutuphane.mku.edu.tr/images/mku.gif" alt="" width="176" height="174">Geçtiğimiz yaz 26 Temmuz – 6 Ağustos 2010 tarihleri arasında ilki düzenlenen “<strong>Kırıkhan</strong> Meslek YüksekOkulu <strong>Linux</strong> <strong>Eğitimi</strong>”nin  ardından yeni bir eğitim talebi daha istenmişti ve tarih tesadüfen beş  ay sonra yine Aralık ayının 26′sına denk geldi.Yazın ki eğitim iki hafta  sürmüştü fakat bu zaman aralığı okulda final dönemi öncesi olduğu için 4  güne sığmak zorunda kaldı. <strong>Kırıkhan</strong> Meslek YüksekOkulu’ndaki öğrencilerin eğitime yoğun ilgisi  sevindiriciydi fakat laboratuardaki bilgisayarların sınırlı olması  ,bilgisayar sayısı kadar öğrenci almayı gerektirdi.<strong>Linux</strong> eğitimlerinin düzenlemesini destekleyen ve teşvik eden <strong>Kırıkhan</strong> MYO Müdürü Yrd.Doç.Oğuz Kılıçoğlu hocamızdan,okuldaki diğer  hocalara,güvenlikten memurlara kadar eğitime büyük bir ilgi ve merak  vardı.
<p><img class="alignleft" style="margin: 5px;" title="Kırıkhan MYO" src="http://i54.tinypic.com/2qsqfww.jpg" alt="" width="192" height="144">26 Aralık’ta başlayan eğitim 29 Aralık’ta öğrencilerin korktuğu fakat  buna gerek olmayan seviyeli bir sınav ile sona erdi.Sınav genel olarak  başarılı ve eğitim amacına ulaşmıştı.Eğitim devam ederken boş bulduğum  vakitlerde Antakya yemeklerinden yemeyi de ihmal etmedim.4 gün  içerisinde birbirinde güzel birçok lezzet tattım.Bu yüzden Hatay’lılar  memleketlerinin değerini çok iyi bilsinler.İstanbul’da bu lezzetleri  bulamıyoruz :)</p>
<p>Düzenlenen eğitimin organizasyonunda sorumlu Adem Bayırlı ve Doğan Özdağ  arkadaşlarımızın yorulmadan koşturması ve böyle bir eğitimin  düzenlemesine en büyük emeği vermelerine minnattarım ve  teşekkürlerlerimi sunuyorum.Ayrıca <strong>Kırıkhan</strong> MYO Müdürü Oğuz Hocamıza ve okuldaki diğer hocalarımızdan öğrencilere  kadar eğitime emeği geçen herkese sonsuz teşekkürlerimi  iletiyorum.Tekrar görüşmek üzere.</p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/pardus-2011-cok-yakinda.html">Pardus 2011 çok yakında!</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2011-01-09T00:01:18+02:00">2011-01-09 00:01</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/pardus-2011-cok-yakinda.html#disqus_thread" data-disqus-identifier="cache/posts/pardus-2011-cok-yakinda.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/genel.html" rel="tag">Genel</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<img class="alignright" title="Pardus 2011" src="http://caracal.ozgurlukicin.com/pardus-counter/timer.php?w=150&amp;h=206&amp;c=lal" alt="" width="94" height="129">20 Ocak 2011 ‘de yayınlanacak olan “<a href="http://www.ozgurlukicin.com/pardus2011/" target="_blank">Pardus 2011</a>“in çıkmasına iki hafta kaldı.Pardus topluluğu dahil linux kullanıcıları dağıtım çıkmasını dört gözle bekliyor ve aynı zamanda geliştirici tarafında da büyük bir hareketlilik var.Düzeltilen buglar,eklenen paketler,sürümü duyurma çabaları vs vs.Sizde bunlara bir el uzatabilir websitelerinizde,kişisel bloglarınızda ,sosyal ağlarda <a href="http://www.pardus.org.tr/" target="_blank">Pardus</a>‘a destek olup duyuruları yayınlayabilirsiniz.Ayrıca geri sayım bannerlarını <a href="http://www.ozgurlukicin.com/banner/" target="_blank">bu adresden</a> kodlarını alıp,uygun alanlarda yayınlayabilirsiniz.
<p>Yeni yılla birlikte gelen “Pardus 2011″e şimdiden “hoşgeldin” diyoruz.</p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/brute-force-saldirilarini-iptables-ile-engelleyin.html">Brute Force saldırılarını iptables ile engelleyin</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2011-01-08T23:55:39+02:00">2011-01-08 23:55</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/brute-force-saldirilarini-iptables-ile-engelleyin.html#disqus_thread" data-disqus-identifier="cache/posts/brute-force-saldirilarini-iptables-ile-engelleyin.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/genel.html" rel="tag">Genel</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<strong>Brute Force saldırısı</strong><em>(Brute Force Attack)</em> diğer bir deyişler <strong>Anahtar Arama Saldırısı</strong> <em>( exhaustive key search)</em> hedefin özel alanlara sızmak için deneme- yanılma yolu o servise  ulaştıracak giriş bilgilerini tespit edip sisteme sızma  saldırılarıdır.Ayrıntılı bilgi için bakınız <a href="http://en.wikipedia.org/wiki/Brute-force_attack" target="_blank">***</a>
<p>Sunucular internet dünyasına açıldığı takdirde bu tip saldırılardan  nasibini alması kaçınılmazdır.Örnek bir “brute force” saldırısı:
</p>
<pre>May 05 01:23:23 zeus sshd[12355]: Illegal user office from 2<strong>.1</strong>.<strong>.<strong><em>
May 05 01:23:33 zeus sshd[12755]: Failed password for illegal user office from 2</em>*.1</strong>.</strong>.<strong><em> port 53033 ssh2
May 05 01:24:10 zeus sshd[12857]: Illegal user samba from 213.191.74.219
May 05 01:24:16 zeus sshd[12357]: Failed password for illegal user samba from 2</em>*.1</strong>.<strong>.<strong><em> port 53712 ssh2
May 05 01:24:19 zeus sshd[12659]: Illegal user tomcat from 2</em>*.1</strong>.</strong>.<strong><em>
May 05 01:24:25 zeus sshd[12459]: Failed password for illegal user tomcat from 2</em>*.1</strong>.<strong>.<strong><em> port 54393 ssh2
May 05 01:24:34 zeus sshd[12361]: Illegal user webadmin from 2</em>*.1</strong>.</strong>.<strong><em>
Jul 28 01:24:43 zeus sshd[12361]: Failed password for illegal user webadmin from 2</em>*.1</strong>.<strong>.</strong>* port 55099 ssh2
<p>Yukarda gördüğünüz gibi saldırgan rastgele kullanıcı adı ve parolalarla <strong>“ssh”</strong> servisine sızmaya çalışıyor.
Bu ve bu gibi brute saldırıları <em>iptables</em>‘e kural ekleyerek engellemeye çalışalım.
( <em>Daha  önceki bir yazıda ssh güvenliği ilgili not yazmıştım<a href="http://linux.piesso.com/sunucu-guvenligissh-ile-root-girisini-kapatin" target="_blank">**</a>O yazıya göz atabilirsiniz.</em>)
<br></p>
<pre>iptables -A INPUT -i eth0 -p tcp --dport 22 -m state --state NEW -m recent --set --name SSH
iptables -A INPUT -i eth0 -p tcp --dport 22 -m state --state NEW -m recent --update --seconds 60 --hitcount 5 --rttl --name SSH -j DROP

Yukardaki iptables kurallarındaki “<strong>eth0</strong>” arayüzünü,”<strong>22</strong>”  portunu kendi sisteminizdeki göre düzenleyiniz.

Bu kuralda ssh  servisimizi 1 dakika içerisinde 5 defa giriş izni vermiş olduk.Eğer  5′ten fazla giriş olduğu takdirde

 iptables “ssh” ulaşımını  engelleyecek.Bu kuralın normal ssh ile bağlanan kullanıcılar için bir  zararı olmayacak 

fakat durmadan atak yapacak olan saldırganı  engelleyecektir.


<h4>SSHatter ile kendinize saldırın!</h4>

Şimdi koyduğumuz kuralı test edelim.Bu kuralı test etmek için kendi kendimize saldıralım.

”SSH” servislerine “<em>brute force attack</em>” yapmak için kullanılan <strong>“SSHatter”</strong>ı kullanarak koyduğumuz kuralı test edelim.

<strong>SSHatter</strong>‘ı “<em>freshmeat</em>” sitesinden edinebilirsiniz.<strong>SSHatter</strong>‘ı <a href="http://freshmeat.net/projects/sshatter/?branch_id=70781&amp;release_id=263196" target="_blank">indirin</a> .

SSHatter’i indirdikten sonra uygun bir yere açalım.

<code>$ tar zxvf  SSHatter-1.0.tar.gz</code>

SSHatter’ın  iki tane bağımlılığı bulunuyor.Bunlar <em>ForkManager</em> ve <em>Net-SSH-Perl</em> bunları paket yöneticisi ile indirebiliriz.

<code># emerge -av Parallel-ForkManager</code> ( Debian kullanıcıları #apt-get install libparallel-forkmanager-perl )

<code># emerge -av  net-ssh-perl</code>

Artık saldırıya hazırız.SSHatter dizinine geçelim.

<code>$ cd SSHatter-1.0/src/</code>

$ ls

Saldıraya başlamadan önce deneme yapacağı birkaç username belirleyelim.Bunun için “<em>users</em>” adlı bir dosya oluşturup 

içine ekleyelim.Her satıra bir kullanıcı adı yazın.

<code>$nano users</code>

elma

armut

erik

….. gibi örnek kullanıcı adları yazıp kaydedin.Şimdi hedefi  belirleyelim.Bunun için ise “targets” adlı 

bir dosya oluşturup içine  hedefi yazalım.

<code>$ echo 127.0.0.1 &gt; targets</code>

Zaten “src” dizininde “passwords” adlı bir dosyada örnek parolalar  bulunmakta,kendiniz ekleme de yapabilirsiniz.

Artık “brute force” atak  yapmaya hazırız fakat kendi kendimizi de banlamamak için “cron” a 5  dakika sonra 

“iptables” kurallarını sıfırlamasını söyleyelim.
<br><pre>*/5 * * * * /sbin/iptables -F
</pre>
Yukardaki satırı “cron”a eklemeyi unutmayın.Şimdi atağı başlatabiliriz.Örnek atak komutu:

<code>$ perl SSHatter.pl -x 1 -t targets -u users -p passwords</code>

Atak başladı ve 5 deneme girişinden sonra iptables tarafından  banlanması gerekir ve 5 dakika sonra bu kural iptal

olacak ve tekrar  erişime açılacak.

Bu eklediğimiz iptables kuralının her açılışta aktif  olmasını istiyorsanız basit script yazarak sistem açılışına

ekleyebilirsiniz.Eğer daha kolay yollar arıyorsanız<strong> fail2ban</strong> gibi yazılımlara bakabilirsiniz.

<a href="http://www.syslogs.org/centos-uzerinde-fail2ban-ile-brute-force-onlemi/" target="_blank">Bu sitede</a> fail2ban hakkında güzel bir yazı mevcut.</pre>

<p></p></pre>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/linux-ders-notu.html">Linux Ders Notu</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2011-01-08T23:34:11+02:00">2011-01-08 23:34</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/linux-ders-notu.html#disqus_thread" data-disqus-identifier="cache/posts/linux-ders-notu.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/genel.html" rel="tag">Genel</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<div>
<p>26 Temmuz-6 Ağustos 2010 tarihleri arasında Hatay Kırıkhan Meslek  Yüksek Okulu’nda verilen eğitime katılan Fatih Çakmak hocamızın  derslerde tutmuş olduğu notlar.Biraz düzenleme,ekleme ile daha güzel ve  detaylı bir not olabilirdi.Fakat bu haliyle de bazı kullanıcılara  yardımcı olabilir.</p>
<p>Notu indirmek için<a href="http://linux.piesso.com/programs/linux_kursu_doc.pdf" target="_blank"> tıklayın</a> .</p>
<p></p>
</div>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/kirikhan-myo-linux-sinavi.html">Kırıkhan MYO Linux Sınavı</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2011-01-08T23:29:50+02:00">2011-01-08 23:29</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/kirikhan-myo-linux-sinavi.html#disqus_thread" data-disqus-identifier="cache/posts/kirikhan-myo-linux-sinavi.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/genel.html" rel="tag">Genel</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<div>
<p>MKÜ Kırıkhan Meslek Yüksek Okulu’nda 26-29 Aralık 2010  tarihlerinde gerçekleştrilen 4 günlük Linux eğitiminin ardından yapılan  sınav soruları.</p>
<p>17 Sorudan oluşan sınav sorularını indirmek için <a href="http://linux.piesso.com/programs/kirikhan_linux_sinavi.pdf" target="_blank">tıklayın</a> .</p>
<p></p>
</div>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/yeni-yil-2011.html">Yeni Yıl:2011</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2011-01-08T23:26:03+02:00">2011-01-08 23:26</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/yeni-yil-2011.html#disqus_thread" data-disqus-identifier="cache/posts/yeni-yil-2011.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/genel.html" rel="tag">Genel</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p style="text-align: center;"><img class="aligncenter" title="Yeni Yıl 2011" src="http://i52.tinypic.com/2lw3rf8.jpg" alt="" width="420" height="336"></p>
<h4 style="text-align: center;">
<strong>Penguen’den yeni yıl mesajı :</strong><strong><strong> <em>” Yeni yılınız kutlu olsun,Hoşgeldin 2011 “</em></strong></strong>
</h4>

<p></p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/virtualhostlar-icin-webalizer.html">Virtualhostlar için webalizer</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2010-12-01T19:54:21+02:00">2010-12-01 19:54</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/virtualhostlar-icin-webalizer.html#disqus_thread" data-disqus-identifier="cache/posts/virtualhostlar-icin-webalizer.html">Comments</a>


                </div>
            

            </div>
            <div class="body">
                <div>
<p></p>
<p>Sisteminizde birden çok siteye webalizer istatistiklerini sunmak istiyorsanız bunu birkaç konfigurasyonla yapabiliriz.Örneğin sunucuda " <strong>virtual1.example.com</strong>" ve " <strong>virtual2.example.com</strong> " adında iki virtualhostumuz olsun.Bu hostların log dosyaları  " <strong>/var/log/httpd/virtual1-access_log</strong>"  ve " <strong>/var/log/httpd/virtual2-access_log</strong> "
olsun.
İlk önce sisteminizde "webalizer" kurulu değil ise kurun: </p>
<p></p>
<blockquote># yum install webalizer</blockquote>
<p>Webalizer sisteme kurulduktan sonra "<strong> /etc/webalizer.conf</strong> " konumunda konfigurasyon dosyası bulunur.Bizim sistemimizde birden çok site barınacağı için her site için ayrı bir konfigurasyon dosyası oluşturacağız.Bu dosyaları düzenli bir şekilde tutmak için bir klasör oluşturup onun içinde bulunduralım.</p>
<blockquote># mkdir /etc/webalizer
#mv /etc/webalizer.conf /etc/webalizer/webalizer.conf.example  (Eski ayar dosyasını örnek olarak saklayalım)
#touch /etc/webalizer/virtualhost1.conf (birinci sitemiz için ayar dosyasımızı oluşturduk.)
#touch /etc/webalizer/virtualhost2.conf (İkinci sitemiz için ayar dosyamızı oluşturduk)
#mkdir /var/www/virtual1/stats (İstatiskleri yayınlayacağımız dizini oluşturduk.)
#mkdir /var/www/virtual2/stats</blockquote>

<p>Artık sitelerimiz için ayarları dosylarına girebiliriz.</p>
<p><strong>virtual1.conf :</strong></p>
<blockquote>LogFile         /var/log/httpd/virtual1-access_log
OutputDir       /var/www/virtual1/stats
HistoryName     /var/lib/webalizer/virtual1.hist
Incremental     yes
IncrementalName /var/lib/webalizer/virtual1.current
HostName        virtual1.example.com
PageType        htm*
PageType        cgi
PageType        php
PageType        shtml
DNSCache        /var/lib/webalizer/dns_cache.db
DNSChildren     10
Quiet           yes
FoldSeqErr      yes
HideURL         *.gif
HideURL         *.GIF
HideURL         *.jpg
HideURL         *.JPG
HideURL         *.png
HideURL         *.PNG
HideURL         *.svg
HideURL         *.SVG
SearchEngine    yahoo.com  p=
SearchEngine    google.com q=
SearchEngine    msn.com    MT=
SearchEngine    bing.com   q=</blockquote>

<p><strong>virtual2.conf :</strong></p>
<blockquote>LogFile         /var/log/httpd/virtual2-access_log
OutputDir       /var/www/virtual2/stats
HistoryName     /var/lib/webalizer/virtual2.hist
Incremental     yes
IncrementalName /var/lib/webalizer/virtual2.current
HostName        virtual2.example.com
PageType        htm*
PageType        cgi
PageType        php
PageType        shtml
DNSCache        /var/lib/webalizer/dns_cache.db
DNSChildren     10
Quiet           yes
FoldSeqErr      yes
HideURL         *.gif
HideURL         *.GIF
HideURL         *.jpg
HideURL         *.JPG
HideURL         *.png
HideURL         *.PNG
HideURL         *.svg
HideURL         *.SVG
SearchEngine    yahoo.com  p=
SearchEngine    google.com q=
SearchEngine    msn.com    MT=
SearchEngine    bing.com   q=</blockquote>

<p>Böylece ayarlarımızı dosyalarımıza işledik.Şimdi istatistiklerimizi cron düzenli bir şekilde yenilenen hale getirelim. " <strong>/etc/cron.daily/webalizer</strong> " dosyasını aşağıdaki gibi değiştirin :</p>
<p><strong>/etc/cron.daily/webalizer</strong> :</p>
<blockquote>#!/bin/bash
if [ -s /var/log/httpd/virtual1-access_log ]; then
/usr/bin/webalizer -Q -c /etc/webalizer/virtual1.conf
fi
if [ -s /var/log/httpd/virtual2-access_log ]; then
/usr/bin/webalizer -Q -c /etc/webalizer/virtual2.conf
fi
</blockquote>

<p>Bu konfigurasyonu da yaptıktan sonra ilk istatistiklerimizi aşağıdaki komut ile oluşturalım :</p>
<blockquote># for i in /etc/webalizer/*.conf; do webalizer -c $i; done</blockquote>

<p>" <strong>/etc/httpd/conf.d/webalizer</strong> " dosyasındaki ayarlarınızı düzelttikten sonra tarayıcıdan istatistiklere <strong>http://virtual1.example.com/stats</strong> ve <strong>http://virtual2.example.cpm/stats </strong>adreslerinden bakabiliriz.</p>
</div>
            </div>
        </div>
    
        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-16.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-14.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="blog-piesso-com";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><footer id="footer"><p>Contents © 2016         <a href="mailto:emre.eryilmaz@piesso.com">mofm</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Lisansı" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a></p>
            
        </footer>
</div>
    </section><script src="assets/js/all-nocdn.js" type="text/javascript"></script><script type="text/javascript">
            $(function(){
                $('.timeago').timeago();
            });
        </script>
</body>
</html>
